# 🎨 PersonaBot GUI 사용 가이드

## 🚀 빠른 시작

### 방법 1: 배치 파일 실행 (가장 간단!)
```bash
run_gui.bat 더블클릭
```

### 방법 2: 직접 실행
```bash
cd C:\Users\yoonj\Documents\PersonaBot
streamlit run gui_main.py
```

---

## 🎯 주요 기능

### 1️⃣ **페르소나 채팅 모드** 💬

선택한 AI 페르소나와 1:1 실시간 대화

**기능:**
- 3개 페르소나 선택 가능
  - iPhone→Galaxy 전환자 (570명 데이터)
  - 기술 애호가 (분석형)
  - 마케터 (Samsung Mobile)

- 실시간 RAG 기반 답변
- 채팅 히스토리 자동 저장
- 쓰레드 스타일 UI

**사용법:**
1. 사이드바에서 "💬 페르소나 채팅" 선택
2. 페르소나 선택
3. 메시지 입력 후 "전송" 버튼 클릭

---

### 2️⃣ **자동 토론 모드** 🗣️

AI 에이전트들이 자동으로 토론 진행

**기능:**
- 3명 에이전트 자동 토론
  - iPhone→Galaxy 전환자
  - 기술 애호가
  - 마케터

- 라운드별 진행 상황 실시간 표시
- 투표 시스템 통합
- 자동 요약 생성

**사용법:**
1. 사이드바에서 "🗣️ 자동 토론" 선택
2. 토론 주제 입력
3. 라운드 수 선택 (1-5)
4. "🚀 토론 시작" 버튼 클릭

**진행 단계:**
```
1. 참가자 준비 ✅
2. 토론 시작 ⏳
3. 의견 교환 ⏸️
4. 투표 진행 ⏸️
5. 결과 집계 ⏸️
```

---

### 3️⃣ **리포트 보기 모드** 📊

토론 결과 분석 및 다운로드

**기능:**
- 전체 토론 요약
- 메트릭 카드
  - 총 발언 수
  - 평균 점수
  - 통과/부결 안건

- 주요 논점 정리
- JSON 형식 다운로드

**사용법:**
1. 사이드바에서 "📊 리포트 보기" 선택
2. "📄 리포트 생성" 버튼 클릭
3. "📥 JSON 다운로드" 버튼으로 저장

---

## 🎨 UI 구성

### 🎭 **사이드바**
```
├─ 🤖 PersonaBot 로고
├─ 📋 모드 선택
│  ├─ 💬 페르소나 채팅
│  ├─ 🗣️ 자동 토론
│  └─ 📊 리포트 보기
│
├─ 👥 페르소나 선택 (채팅 모드)
│  └─ 페르소나 정보 카드
│
├─ ⚙️ 토론 설정 (토론 모드)
│  ├─ 토론 주제
│  └─ 라운드 수
│
├─ 📊 세션 통계
│  ├─ 대화 수
│  └─ 토론 수
│
└─ ℹ️ 시스템 정보
```

### 💬 **메인 채팅 영역**
```
┌──────────────────────────────────────┐
│  💬 페르소나와 대화하기              │
├──────────────────────────────────────┤
│                                      │
│  [사용자 메시지]                     │
│  👤 You                              │
│  질문 내용...                        │
│                                      │
│  [AI 응답]                           │
│  🤖 iPhone→Galaxy 전환자             │
│  답변 내용...                        │
│                                      │
├──────────────────────────────────────┤
│  [메시지 입력]  [전송 📤]            │
└──────────────────────────────────────┘
```

### 🗣️ **토론 진행 화면**
```
┌──────────────────────────────────────┐
│  🗣️ 자동 토론 시스템                │
├──────────────────────────────────────┤
│                                      │
│  ┌────────────────────────────────┐ │
│  │ 🔄 토론 진행 중...             │ │
│  │                                │ │
│  │ ✅ 참가자 준비                 │ │
│  │ ⏳ 토론 시작 (진행중)          │ │
│  │ ⏸️ 의견 교환                   │ │
│  │ ⏸️ 투표 진행                   │ │
│  │ ⏸️ 결과 집계                   │ │
│  └────────────────────────────────┘ │
│                                      │
│  ┌─ 📊 토론 메트릭 ─────────────┐ │
│  │ [9발언] [4.2점] [2통과] [1부결]│ │
│  └────────────────────────────────┘ │
│                                      │
│  💡 주요 논점                        │
│  1. 폴더블 혁신성에 대한 높은 평가  │
│  2. 생태계 전환 장벽 존재           │
│  3. 체험 마케팅 전략 필요           │
│                                      │
└──────────────────────────────────────┘
```

---

## 🎨 디자인 특징

### 🌈 **컬러 스킴**
```css
메인 그라데이션: #667eea → #764ba2
사이드바: #2d3748 → #1a202c
카드 배경: #ffffff
강조 색상: #667eea
성공 색상: #48bb78
```

### ✨ **애니메이션**
- 메시지 등장: `slideIn` 애니메이션 (0.3s)
- 카드 호버: `translateY(-5px)` + 그림자
- 버튼 호버: `translateY(-2px)` + 그림자
- 진행 단계: `scale(1.02)` 활성화 효과

### 📐 **레이아웃**
- 와이드 레이아웃 (`layout="wide"`)
- 반응형 그리드 시스템
- 카드 기반 UI
- 고대비 텍스트

---

## 🔧 기술 스택

### **프론트엔드**
- Streamlit (메인 프레임워크)
- Custom CSS (프로페셔널 디자인)
- HTML5 마크다운 렌더링

### **백엔드**
- AutoGen 0.7.x (멀티 에이전트)
- LangChain 1.0 (RAG)
- OpenAI GPT-4 (LLM)
- ChromaDB (벡터 스토어)

### **데이터**
- 40,377개 실제 YouTube 댓글
- 2,621개 구조화된 리뷰
- 7개 페르소나 지식 베이스

---

## 📊 성능 최적화

### ⚡ **빠른 로딩**
- 세션 상태 캐싱
- 필수 페르소나만 로드 (3개)
- 벡터 스토어 재사용

### 💾 **메모리 효율**
- Lazy loading
- 청크 단위 처리 (500/50)
- 히스토리 제한 (최근 100개)

### 🔄 **실시간 업데이트**
- `st.rerun()` 자동 새로고침
- Progress bar 실시간 업데이트
- 비동기 처리 (asyncio)

---

## 🐛 문제 해결

### Q1: GUI가 열리지 않아요
**A:** Streamlit이 설치되었는지 확인하세요
```bash
pip install streamlit
streamlit --version
```

### Q2: 에이전트 초기화 실패
**A:** .env 파일의 API 키를 확인하세요
```
OPENAI_API_KEY=sk-...
```

### Q3: 채팅 응답이 느려요
**A:** 정상입니다. RAG 검색 + GPT-4 응답 시간:
- 평균 3-5초
- 첫 로드: 10-15초

### Q4: 포트 충돌 오류
**A:** 다른 포트로 실행하세요
```bash
streamlit run gui_main.py --server.port 8502
```

---

## 💡 사용 팁

### ✅ **효과적인 질문하기**
```
❌ 나쁜 예: "어때?"
✅ 좋은 예: "폴더블 폰의 장단점을 실제 사용자 경험을 바탕으로 알려주세요."
```

### 🎯 **토론 주제 설정**
```
❌ 너무 광범위: "스마트폰"
✅ 구체적: "Galaxy Fold 7의 가격 프리미엄이 정당화될 수 있는가?"
```

### 📊 **리포트 활용**
1. 토론 후 즉시 리포트 생성
2. JSON 다운로드 → 외부 분석 도구 활용
3. 주요 논점을 실제 비즈니스 전략에 반영

---

## 🚀 고급 기능

### 🔮 **향후 추가 예정**
- [ ] 실시간 음성 대화
- [ ] 다국어 지원 (EN/KO)
- [ ] 커스텀 페르소나 생성
- [ ] 토론 비디오 녹화
- [ ] PDF 리포트 생성
- [ ] 슬랙/이메일 알림

---

## 📞 지원

### 문제 발생 시
1. `TEST_RESULTS.md` 확인
2. `TESTING_GUIDE.md` 참조
3. 로그 확인: `.streamlit/logs/`

### 시스템 요구사항
- Python 3.8+
- 메모리: 4GB 이상
- 인터넷 연결 (OpenAI API)
- 브라우저: Chrome, Edge, Firefox

---

**🎉 PersonaBot GUI v2.0을 즐기세요!**

**프로페셔널한 AI 토론 시스템으로 비즈니스 인사이트를 얻어보세요!** ✨

